<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- <link rel="stylesheet" href="{{url_for('static', filename='styles/styles.css')}}"> -->
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  </head>
  <body>
    <h1 class="text-center bg-dark text-white py-3">API para busca de livros</h1>
    <section class="d-flex justify-content-between my-3">
      {% block content %}
      <form action="/buscarLivro" methods="POST" class="d-flex" >
        <input type="text" name="livro" placeholder="Digite o nome do livro" class="form-control-sm mx-2">
        <button class="btn btn-primary text-white btn-md mx-2" value="submit">Buscar livro</button>
      </form>
      
      <form action="/cadastrarLivro" methods="POST">
        <button class="btn btn-success text-white btn-md mx-2">criar novo livro</button>
      </form>
      {% endblock %}
    </section>
    <h2 class = "text-center">Biblioteca</h2>
    <p>
      <table class="table table-bordered table-striped table-hover">
        <thead>
          <tr>
              <th>Nome do livro</th>
              <th>Autor do livro</th>
              <th>Ação de editar</th>
              <th>Ação de excluir</th>
          </tr>
        </thead>
        <tbody>
          {%for livro in livros%}
          <tr class="linhaDadosLivros">
            <td class="dadosLivros">
              {{livro.1}}
            </td>
            <td class="dadosLivros">
              {{livro.2}}
            </td>
            <td>
              <button class="btn btn-warning">Editar</button>
            </td>
            <td>
              <button class="btn btn-danger">Excluir</button>
            </td>
          </tr>
          {%endfor%}
        </tbody>
      </table>
    </p>

    <script>
      /*
      const chamadaAPI = () => {
        let dados;
        fetch("http://localhost:5000/livros")
          .then((dadosObtidosAPI) => dadosObtidosAPI.json())
          .then((dadosProcessadosJSON) => {
            let a = document.createElement("ul");
            document.body.append(a);
            const lista = document.querySelector("ul");

            dadosProcessadosJSON.map((item) => {
              lista.append(`${item[1]}`);
            });
          });
      };
      chamadaAPI();
      */
    </script>
  </body>
</html>
